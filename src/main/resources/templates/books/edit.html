<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Редактировать жанр</title>
</head>
<body>
    <h1>Редактировать жанр</h1>
    <form th:method="PATCH" th:action="@{/books/${book.getId()}}" th:object="${book}">
        <label for="name">Введите название: </label>
        <input type="text" th:field="*{name}" id="name"/>
        <div style="color:red" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</div>

        <br><label for="genreId">Введите жанр: </label>
        <select th:object="${book}" th:field="*{genreId}" id="genreId">
            <option th:each="genre : ${genreList}" th:value="${genre.getId()}" th:text="${genre.getName()}">Жанр</option>
        </select>

        <br><label for="author">Введите автора: </label>
        <select th:object="${book}" th:field="*{authorId}" id="author">
            <option th:each="author : ${authorList}" th:value="${author.getId()}" th:text="${author.getName()}">Автор</option>
        </select>

        <br><label for="year">Введите год: </label>
        <input type="text" th:field="*{year}" id="year"/>
        <div style="color:red" th:if="${#fields.hasErrors('year')}" th:errors="*{year}">year Error</div>

        <br><label for="description">Введите описание: </label>
        <input type="text" th:field="*{description}" id="description"/>
        <div style="color:red" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">description Error</div>

        <br><input type="submit" value="Обновить"/>
    </form>

    <a th:href="@{/books/{id}(id=${book.getId()})}"><button>Назад</button></a><hr>

</body>
</html>